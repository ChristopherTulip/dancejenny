
function init() {
  menu();
  backstretch();
  slider();
  contentslider();
  panels();
  blogposts();
}

function menu() {
  // $(".menu,.nav .home,.nav .about,.nav .work,.nav .contact ").click(function(){
  console.log($(".menu"));
  $(".menu").click(function(){
    $(".nav-section").toggleClass("show");
    $(".menu .nav-bar:nth(0)").toggleClass("animate-0");
    $(".menu .nav-bar:nth(1)").toggleClass("animate-1");
    $(".menu .nav-bar:nth(2)").toggleClass("animate-2");
  });

  var topPadding = 50;
  var offset = $(".menu").offset();

  $(window).scroll(function() {
    var menu = $(".menu");

    if(this.innerWidth > 1100) {
      menu.stop().animate({
        marginTop: $(window).scrollTop() - offset.top + topPadding
      });
    } else {
      menu.stop().animate({
          marginTop: 0
      });
    };
  });
  $('.scroll').smoothScroll();

  console.log("init menu");
}


function backstretch() { // used for fulldiv backgrounds
  $(".photo-album").backstretch(
    [
      "<%= asset_path("website_main.jpg") %>",
      "<%= asset_path("fish_lift_crop.jpg")%>",
      "<%= asset_path("ryan-square")%>",
      "<%= asset_path("jenny-square-head.jpg") %>"
    ],
    {
      duration: 10000,
      fade: 750
    }
  );

  $(".bp-post").backstretch("<%= asset_path("website_main.jpg") %>");
  $(".bp-post.two").backstretch("<%= asset_path("fish_lift_crop.jpg") %>");
  $(".portfolio-img.one").backstretch("<%= asset_path("website_main.jpg") %>");
  $(".portfolio-img.two").backstretch("<%= asset_path("fish_lift_crop.jpg") %>");
  $(".portfolio-img.three").backstretch("<%= asset_path("SFF_2015.jpg") %>");
  $(".portfolio-img.four").backstretch("<%= asset_path("SFF_2015_2.jpg") %>");
  $(".portfolio-img.five").backstretch("<%= asset_path("UpClose.jpg") %>");
  $(".portfolio-img.six").backstretch("<%= asset_path("laughing_crop.jpg") %>");
  $(".portfolio-img.seven").backstretch("<%= asset_path("bridge.jpg") %>");
  $(".portfolio-img.eight").backstretch("<%= asset_path("dip.jpg") %>");

  $(window).resize(function () {
    console.log("window resize");
    $(".photo-album").backstretch(
      [
        "<%= asset_path("website_main.jpg") %>",
        "<%= asset_path("fish_lift_crop.jpg")%>",
        "<%= asset_path("ryan-square")%>",
        "<%= asset_path("jenny-square-head.jpg") %>"
      ],
      {
        duration: 10000,
        fade: 750
      }
    );
    $(".bp-post").backstretch("<%= asset_path("website_main.jpg") %>");
    $(".bp-post.two").backstretch("<%= asset_path("fish_lift_crop.jpg") %>");
    $(".portfolio-img.one").backstretch("<%= asset_path("website_main.jpg") %>");
    $(".portfolio-img.two").backstretch("<%= asset_path("fish_lift_crop.jpg") %>");
    $(".portfolio-img.three").backstretch("<%= asset_path("SFF_2015.jpg") %>");
    $(".portfolio-img.four").backstretch("<%= asset_path("SFF_2015_2.jpg") %>");
    $(".portfolio-img.five").backstretch("<%= asset_path("UpClose.jpg") %>");
    $(".portfolio-img.six").backstretch("<%= asset_path("laughing_crop.jpg") %>");
    $(".portfolio-img.seven").backstretch("<%= asset_path("bridge.jpg") %>");
    $(".portfolio-img.eight").backstretch("<%= asset_path("dip.jpg") %>");
  });

  console.log("init backstretch");
}

function slider() {
  $('#slider').flexslider({
    animation: "slide"
  });

  console.log("init slider");
}

function panels() {
  // album panel
  $('#album').on('click', function() {
    $("body").addClass("no-scroll");
      $('.panel').animate({
          'width': 'show'
      }, 1000, function() {
          $('.panel .album').fadeIn(500);
      });
  });
  $('i.closeicon').on('click', function() {
      $('.panel .album').fadeOut(500, function() {
        $("body").removeClass("no-scroll");
          $('.panel').animate({
              'width': 'hide'
          }, 1000);
      });
  });

  // portfolio panel
    $("#portfolio, #portfolio2, #portfolio3, #portfolio4, #portfolio5, #portfolio6, #portfolio7, #portfolio8, #portfolio9").on('click', function() {
      $("body").addClass("no-scroll");
        $('.panel').animate({
            'width': 'show'
        }, 1000, function() {
            $('.panel .work').fadeIn(500);
        });
    });
    $('.closeicon').on('click', function() {
        $('.panel .work').fadeOut(500, function() {
          $("body").removeClass("no-scroll");
            $('.panel').animate({
                'width': 'hide'
            }, 1000);
        });
    });

  console.log("init panels");
}

function blogposts() { // only use if span is at the end of the row
  $("#blogone").click(function(){
    $(".blog-post-item.one").toggleClass("reveal");
    $(".blog-post-item.two").removeClass("reveal"); // you dont have to add this line
  });
  $("#blogtwo").click(function(){
    $(".blog-post-item.two").toggleClass("reveal");
    $(".blog-post-item.one").removeClass("reveal"); // you dont have to add this line
  });

  console.log("init blogposts");
}

function contentslider() {
  $('#content').flexslider({
    animation: "slide",
    controlNav: false,
    directionNav: false
  });

    console.log("init contentslider");
}

// function map() {
//   new GMaps({
//     div: '#map',
//     lat: 40.71435,
//     lng: -74.00597,
//     scrollwheel: false
//   });
// }
